<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Come back Later</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Minimalist Aquarium -->
    <div class="aquarium">
      <!-- subtle caustics -->
      <svg class="caustics" viewBox="0 0 800 600" preserveAspectRatio="none">
        <filter id="wavy">
          <feTurbulence
            baseFrequency="0.008 0.02"
            numOctaves="3"
            seed="2"
            result="t"
          />
          <feDisplacementMap
            in="SourceGraphic"
            in2="t"
            scale="15"
            xChannelSelector="R"
            yChannelSelector="G"
          />
        </filter>
        <rect width="100%" height="100%" filter="url(#wavy)" opacity="0.08" />
      </svg>

      <!-- coral silhouette -->
      <svg class="coral" viewBox="0 0 200 200" preserveAspectRatio="none">
        <path
          d="M100 200 L90 120 Q80 100 90 80 Q100 60 90 40 Q80 20 85 0
               M100 200 L110 140 Q120 120 115 100 Q110 80 120 60 Q130 40 125 0"
          stroke="none"
          fill="rgba(255,255,255,0.05)"
        />
      </svg>

      <!-- sea grass silhouettes -->
      <div class="sea-grass" style="--x: 15%; --delay: 0s"></div>
      <div class="sea-grass" style="--x: 25%; --delay: 1s"></div>
      <div class="sea-grass" style="--x: 80%; --delay: 0.5s"></div>

      <!-- drifting particles -->
      <div class="particles"></div>

      <!-- elegant bubbles -->
      <div class="bubbles">
        <span
          class="bubble"
          style="--left: 30%; --size: 14px; --delay: 0s; --dur: 10s"
        ></span>
        <span
          class="bubble"
          style="--left: 55%; --size: 10px; --delay: 2s; --dur: 12s"
        ></span>
        <span
          class="bubble"
          style="--left: 70%; --size: 16px; --delay: 4s; --dur: 14s"
        ></span>
      </div>
      <svg
        id="fish1"
        class="decor-fish-svg"
        viewBox="0 0 100 50"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="rgba(255,255,255,0.3)"
        stroke-width="2"
      >
        <ellipse
          cx="50"
          cy="25"
          rx="35"
          ry="15"
          fill="rgba(255,255,255,0.15)"
        />
        <polygon points="15,25 5,10 5,40" fill="rgba(255,255,255,0.15)" />
        <polygon points="50,10 65,5 60,20" fill="rgba(255,255,255,0.15)" />
        <circle cx="75" cy="20" r="4" fill="rgba(255,255,255,0.5)" />
        <path
          d="M 85 30 Q 90 25 85 20"
          stroke="rgba(255,255,255,0.4)"
          stroke-width="1"
          fill="none"
        />
      </svg>

      <svg
        id="fish2"
        class="decor-fish-svg"
        viewBox="0 0 100 50"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="rgba(255,255,255,0.25)"
        stroke-width="2"
      >
        <ellipse cx="50" cy="25" rx="35" ry="15" fill="rgba(255,255,255,0.1)" />
        <polygon points="15,25 5,10 5,40" fill="rgba(255,255,255,0.1)" />
        <polygon points="50,10 65,5 60,20" fill="rgba(255,255,255,0.1)" />
        <circle cx="75" cy="20" r="4" fill="rgba(255,255,255,0.4)" />
        <path
          d="M 85 30 Q 90 25 85 20"
          stroke="rgba(255,255,255,0.3)"
          stroke-width="1"
          fill="none"
        />
      </svg>

      <svg
        id="fish3"
        class="decor-fish-svg"
        viewBox="0 0 100 50"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="rgba(255,255,255,0.2)"
        stroke-width="2"
      >
        <ellipse
          cx="50"
          cy="25"
          rx="35"
          ry="15"
          fill="rgba(255,255,255,0.08)"
        />
        <polygon points="15,25 5,10 5,40" fill="rgba(255,255,255,0.08)" />
        <polygon points="50,10 65,5 60,20" fill="rgba(255,255,255,0.08)" />
        <circle cx="75" cy="20" r="4" fill="rgba(255,255,255,0.3)" />
        <path
          d="M 85 30 Q 90 25 85 20"
          stroke="rgba(255,255,255,0.2)"
          stroke-width="1"
          fill="none"
        />
      </svg>
    </div>

    <!-- Whale -->
    <div id="whale"></div>

    <!-- Text -->
    <div class="overlay-text">Page temporarily unavailable</div>

    <!-- Scripts -->
    <script src="jquery.js"></script>
    <script src="main.js"></script>
    <script>
      const aquarium = document.querySelector(".aquarium");
      const fishes = [
        document.getElementById("fish1"),
        document.getElementById("fish2"),
        document.getElementById("fish3"),
      ];

      const aqRect = aquarium.getBoundingClientRect();

      function random(min, max) {
        return Math.random() * (max - min) + min;
      }

      // Fish data with current position, target, speed, and phase for smooth oscillation
      const fishData = fishes.map(() => ({
        x: random(0, aqRect.width - 100),
        y: random(0, aqRect.height - 50),
        targetX: random(0, aqRect.width - 100),
        targetY: random(0, aqRect.height - 50),
        speed: random(0.005, 0.015), // slow speed for subtle movement
        facingRight: true,
        oscillationPhase: random(0, 2 * Math.PI), // for subtle vertical wobble
      }));

      fishes.forEach((fish, i) => {
        fish.style.transform = `translate(${fishData[i].x}px, ${fishData[i].y}px) scaleX(1)`;
      });

      function animate(time = 0) {
        fishData.forEach((data, i) => {
          // Calculate distance to target
          const dx = data.targetX - data.x;
          const dy = data.targetY - data.y;

          // If close to target, pick new target smoothly (not instantly)
          if (Math.hypot(dx, dy) < 5) {
            data.targetX = random(0, aqRect.width - 100);
            data.targetY = random(0, aqRect.height - 50);
          }

          // Smoothly move toward target (lerp)
          data.x += dx * data.speed;
          data.y += dy * data.speed;

          // Add subtle vertical oscillation (wobble) for natural effect
          data.oscillationPhase += 0.05; // speed of wobble
          const wobbleY = Math.sin(data.oscillationPhase) * 3; // amplitude 3px

          // Determine facing direction by looking at horizontal velocity
          let facingRight = dx >= 0;
          if (facingRight !== data.facingRight) {
            data.facingRight = facingRight;
          }

          // Apply transform: position + wobble + horizontal flip
          fishes[i].style.transform = `translate(${data.x}px, ${
            data.y + wobbleY
          }px) scaleX(${data.facingRight ? 1 : -1})`;
        });

        requestAnimationFrame(animate);
      }

      animate();

      window.addEventListener("resize", () => {
        const newRect = aquarium.getBoundingClientRect();
        aqRect.width = newRect.width;
        aqRect.height = newRect.height;
      });
    </script>
  </body>
</html>
